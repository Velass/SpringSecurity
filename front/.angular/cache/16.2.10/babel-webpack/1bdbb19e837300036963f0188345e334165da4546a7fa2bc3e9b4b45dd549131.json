{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class AuthService {\n  intercept(request, next) {\n    const modifiedRequest = request.clone({\n      withCredentials: true\n    });\n    return next.handle(modifiedRequest);\n  }\n  checkAuthentificated() {\n    const cookies = document.cookie;\n    if (!cookies.includes('votre_cookie')) {\n      this.router.navigate(['/login']);\n      return false;\n    }\n    return true;\n  }\n  static #_ = this.ɵfac = function AuthService_Factory(t) {\n    return new (t || AuthService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AuthService,\n    factory: AuthService.ɵfac\n  });\n}","map":{"version":3,"names":["AuthService","intercept","request","next","modifiedRequest","clone","withCredentials","handle","checkAuthentificated","cookies","document","cookie","includes","router","navigate","_","_2","factory","ɵfac"],"sources":["C:\\Users\\pc\\Desktop\\diginamic\\19. Spring\\Depot\\Depot4\\2023-11-16-spring-security_mini-projet\\front\\src\\app\\service\\auth\\auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  HttpInterceptor,\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n} from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class AuthService implements HttpInterceptor {\n\n  intercept(\n    request: HttpRequest<any>,\n    next: HttpHandler\n  ): Observable<HttpEvent<any>> {\n    const modifiedRequest = request.clone({ withCredentials: true });\n    return next.handle(modifiedRequest);\n  }\n\n  checkAuthentificated(){\n    const cookies = document.cookie;\n    if (!cookies.includes('votre_cookie')) {\n      this.router.navigate(['/login']);\n      return false;\n    }\n    return true;\n\n  }\n}\n"],"mappings":";AAUA,OAAM,MAAOA,WAAW;EAEtBC,SAASA,CACPC,OAAyB,EACzBC,IAAiB;IAEjB,MAAMC,eAAe,GAAGF,OAAO,CAACG,KAAK,CAAC;MAAEC,eAAe,EAAE;IAAI,CAAE,CAAC;IAChE,OAAOH,IAAI,CAACI,MAAM,CAACH,eAAe,CAAC;EACrC;EAEAI,oBAAoBA,CAAA;IAClB,MAAMC,OAAO,GAAGC,QAAQ,CAACC,MAAM;IAC/B,IAAI,CAACF,OAAO,CAACG,QAAQ,CAAC,cAAc,CAAC,EAAE;MACrC,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;MAChC,OAAO,KAAK;;IAEd,OAAO,IAAI;EAEb;EAAC,QAAAC,CAAA,G;qBAlBUf,WAAW;EAAA;EAAA,QAAAgB,EAAA,G;WAAXhB,WAAW;IAAAiB,OAAA,EAAXjB,WAAW,CAAAkB;EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
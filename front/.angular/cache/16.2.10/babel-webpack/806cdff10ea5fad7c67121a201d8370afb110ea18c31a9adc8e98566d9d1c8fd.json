{"ast":null,"code":"// login.component.ts\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let LoginComponent = class LoginComponent {\n  constructor(dataService, router, authService) {\n    this.dataService = dataService;\n    this.router = router;\n    this.authService = authService;\n    this.user = {\n      email: '',\n      password: ''\n    };\n  } // Injectez le service AuthService ici\n  ngOnInit() {\n    // Vérifiez si l'utilisateur est déjà authentifié lors de l'initialisation du composant\n    if (this.authService.checkAuthenticated()) {\n      // Redirigez vers la page d'information si l'utilisateur est authentifié\n      this.router.navigate(['/information']);\n    }\n  }\n  onSubmit(ngForm) {\n    console.log(ngForm.value);\n    this.dataService.login(ngForm.value).subscribe(res => {\n      console.log(res);\n      // Rediriger vers la page d'informations après une connexion réussie\n      this.router.navigate(['/information']);\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);","map":{"version":3,"names":["Component","LoginComponent","constructor","dataService","router","authService","user","email","password","ngOnInit","checkAuthenticated","navigate","onSubmit","ngForm","console","log","value","login","subscribe","res","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\pc\\Desktop\\diginamic\\19. Spring\\Depot\\Depot4\\2023-11-16-spring-security_mini-projet\\front\\src\\app\\pages\\login\\login.component.ts"],"sourcesContent":["// login.component.ts\n\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NgForm } from '@angular/forms';\nimport { DataService } from 'src/app/service/data/data.service';\nimport { AuthService } from 'chemin/vers/votre/auth.service'; // Assurez-vous que le chemin est correct\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  constructor(private dataService: DataService, private router: Router, private authService: AuthService) { } // Injectez le service AuthService ici\n\n  user = {\n    email: '',\n    password: ''\n  };\n\n  ngOnInit(): void {\n   // Vérifiez si l'utilisateur est déjà authentifié lors de l'initialisation du composant\n    if (this.authService.checkAuthenticated()) {\n      // Redirigez vers la page d'information si l'utilisateur est authentifié\n      this.router.navigate(['/information']);\n    }\n  }\n\n  onSubmit(ngForm: NgForm) {\n    console.log(ngForm.value);\n    this.dataService.login(ngForm.value).subscribe(res => {\n      console.log(res);\n      // Rediriger vers la page d'informations après une connexion réussie\n      this.router.navigate(['/information']);\n    });\n  }\n}\n"],"mappings":"AAAA;;AAEA,SAASA,SAAS,QAAgB,eAAe;AAW1C,WAAMC,cAAc,GAApB,MAAMA,cAAc;EAEzBC,YAAoBC,WAAwB,EAAUC,MAAc,EAAUC,WAAwB;IAAlF,KAAAF,WAAW,GAAXA,WAAW;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAAkB,KAAAC,WAAW,GAAXA,WAAW;IAEzF,KAAAC,IAAI,GAAG;MACLC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;KACX;EALyG,CAAC,CAAC;EAO5GC,QAAQA,CAAA;IACP;IACC,IAAI,IAAI,CAACJ,WAAW,CAACK,kBAAkB,EAAE,EAAE;MACzC;MACA,IAAI,CAACN,MAAM,CAACO,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC;;EAE1C;EAEAC,QAAQA,CAACC,MAAc;IACrBC,OAAO,CAACC,GAAG,CAACF,MAAM,CAACG,KAAK,CAAC;IACzB,IAAI,CAACb,WAAW,CAACc,KAAK,CAACJ,MAAM,CAACG,KAAK,CAAC,CAACE,SAAS,CAACC,GAAG,IAAG;MACnDL,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC;MAChB;MACA,IAAI,CAACf,MAAM,CAACO,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC;IACxC,CAAC,CAAC;EACJ;CACD;AAzBYV,cAAc,GAAAmB,UAAA,EAL1BpB,SAAS,CAAC;EACTqB,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACWtB,cAAc,CAyB1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}
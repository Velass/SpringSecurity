{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nexport class AuthService {\n  constructor(router) {\n    this.router = router;\n  } // Injectez le Router dans le constructeur\n  intercept(request, next) {\n    const modifiedRequest = request.clone({\n      withCredentials: true\n    });\n    return next.handle(modifiedRequest);\n  }\n  checkAuthenticated() {\n    const cookies = document.cookie;\n    if (!cookies.includes('votre_cookie')) {\n      this.router.navigate(['/login']);\n      return false;\n    }\n    return true;\n  }\n  static #_ = this.ɵfac = function AuthService_Factory(t) {\n    return new (t || AuthService)(i0.ɵɵinject(i1.Router));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AuthService,\n    factory: AuthService.ɵfac\n  });\n}","map":{"version":3,"names":["AuthService","constructor","router","intercept","request","next","modifiedRequest","clone","withCredentials","handle","checkAuthenticated","cookies","document","cookie","includes","navigate","_","i0","ɵɵinject","i1","Router","_2","factory","ɵfac"],"sources":["C:\\Users\\pc\\Desktop\\diginamic\\19. Spring\\Depot\\Depot4\\2023-11-16-spring-security_mini-projet\\front\\src\\app\\service\\auth\\auth.service.ts"],"sourcesContent":["// auth.service.ts\n\nimport { Injectable } from '@angular/core';\nimport { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Router } from '@angular/router'; // Importez le Router\n\n@Injectable()\nexport class AuthService implements HttpInterceptor {\n\n  constructor(private router: Router) {} // Injectez le Router dans le constructeur\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const modifiedRequest = request.clone({ withCredentials: true });\n    return next.handle(modifiedRequest);\n  }\n\n  checkAuthenticated(): boolean {\n    const cookies = document.cookie;\n    if (!cookies.includes('votre_cookie')) {\n      this.router.navigate(['/login']);\n      return false;\n    }\n    return true;\n  }\n}\n"],"mappings":";;AAQA,OAAM,MAAOA,WAAW;EAEtBC,YAAoBC,MAAc;IAAd,KAAAA,MAAM,GAANA,MAAM;EAAW,CAAC,CAAC;EAEvCC,SAASA,CAACC,OAAyB,EAAEC,IAAiB;IACpD,MAAMC,eAAe,GAAGF,OAAO,CAACG,KAAK,CAAC;MAAEC,eAAe,EAAE;IAAI,CAAE,CAAC;IAChE,OAAOH,IAAI,CAACI,MAAM,CAACH,eAAe,CAAC;EACrC;EAEAI,kBAAkBA,CAAA;IAChB,MAAMC,OAAO,GAAGC,QAAQ,CAACC,MAAM;IAC/B,IAAI,CAACF,OAAO,CAACG,QAAQ,CAAC,cAAc,CAAC,EAAE;MACrC,IAAI,CAACZ,MAAM,CAACa,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;MAChC,OAAO,KAAK;;IAEd,OAAO,IAAI;EACb;EAAC,QAAAC,CAAA,G;qBAhBUhB,WAAW,EAAAiB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,MAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAXrB,WAAW;IAAAsB,OAAA,EAAXtB,WAAW,CAAAuB;EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}